<!DOCTYPE html>
<!-- Jeu créé par Adèle -->
<html lang="fr">
<head>
    <!-- Version 1.0 -->
    <meta charset="UTF-8">
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <title>Devine le nombre entier avec chrono</title>
    <link href="js/Modeleboutons.css" rel="stylesheet">
    <script src="js/Devinelenombre2.js"></script>
    <link href="js/modeletitre.css" rel="stylesheet">
    <link href="js/modeleidentification.css" rel="stylesheet">
    <style>
        body {
            body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            color: black;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* Alignement vertical au début */
            height: 100vh;
            margin: 0;
            padding: 15px; /* Marge intérieure pour espacement */
        }
        #myText {
            width: 100%;
            text-align: center;
            margin-top: 3%;
            margin-bottom: 2%;
        }
        #proposition {
            width: 270px;
            font-size: 150%;
            margin-top: 0%;
        }
        .button:hover {
            background-color: darkorange;
        }
        #chrono {
            font-size: 2.2vw; /* Ajusté en fonction de la largeur de l'écran */
            margin-top: 1%; /* Ajusté en pourcentage */
            text-align: center;
        }
        .d-none {
            display: none !important; /* Utilisation de !important pour s'assurer que la règle est prioritaire */
}
       .button-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px; 
            margin-bottom: 3%; 
        }
        #information {
            width: 100%; /* Ajusté en pourcentage */
            height: 11vh; /* Ajusté en fonction de la hauteur de l'écran */
            padding: 1.5%; /* Ajusté en pourcentage */
            font-size: 2.2vw; /* Ajusté en fonction de la largeur de l'écran */
            resize: none;
            background-color: white;
            color: black;
            overflow: hidden;
            text-align: center;
            font-family: 'Roboto', sans-serif;
            position: relative;
            z-index: 1; /* Mettre à l'arrière */
            border: none;
            outline: none;
        }
        #bottom-b {
            margin-top: -10%;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 10px;
            width: 100%;
            position: relative;
        }
        #tableChronosPerso {
            width: 30%; /* Ajusté en pourcentage */
            border: 1px solid #ccc;
            margin-bottom: 10%; /* Ajusté en pourcentage */
            align-items: center;
            margin-top: -13%;
            margin-left: 5%;
            z-index: 3;
            position: relative; 
        }
        #tableChronosPerso th, #tableChronosPerso td {
            height: 2%;
            padding: 2%; /* Ajusté pour plus d'espace */
            border: 1px solid #ccc;
            text-align: center;
        }
        #tableChronosMonde {
            border: 1px solid #ccc;
            text-align: center;
            margin: 0 auto; /* Centre le bouton horizontalement */
            width: 90%; /* Pour s'assurer qu'il prend tout l'espace disponible */
            margin-bottom: 7%;
            margin-top: -10%;
            padding: 1%;
            position: relative;
            z-index: 2; 
        }

        #tableChronosMonde th,
        #tableChronosMonde td {
            height: 5%;
            padding: 1%; /* Ajusté pour plus d'espace */
            border: 1px solid #ccc;
            text-align: center;
        }
        #lancer {
            margin: 0 auto; /* Centre le bouton horizontalement */
            display: block;
            margin-top: 2%;
            margin-bottom: 4%;
        }    
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }
        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
        .form-signin {
            max-width: 330px;
            padding: 15px;
        }
        .form-signin .form-floating:focus-within {
            z-index: 2;
        }
        .form-signin input[type="text"] {
            margin-bottom: 10px;
            border-bottom-right-radius: 0;
            border-bottom-left-radius: 0;
        }
        .form-signin button {
            width: 100%;
            padding: 10px;
        }
    </style>
</head>
<body>
        <div id="myText">
        <h1 class="display-3 fw-bold text-body-emphasis">Joue au jeu du devine le nombre entier !</h1>
    </div> 
    <main class="form-signin w-100 m-auto text-center" id="form-container" class="d-flex align-items-center py-4 bg-body-tertiary">
        <form onsubmit="handleSubmit(event)">
            <h1 class="h3 mb-3 fw-normal">Veillez entrer votre pseudo</h1>
            <div class="form-floating">
                <input type="text" class="form-control" id="floatingInput" placeholder="Username" required>
                <label for="floatingInput">Pseudo</label>
            </div>
            <button class="btn btn-primary" id="submit">Valider</button>
        </form>
    </main>
    <button id="lancer" class="btn btn-success btn-lg d-none align-items-center">Lancer le jeu</button>
    <div class="button-container">
        <textarea id="information" value="Texte non modifiable"readonly></textarea>
        <input type="text" id="proposition" class="d-none" onkeydown="checkEnter(event)" />
        <button id="soumettre" class="btn btn-success d-inline-flex align-items-center d-none btn-lg">Soumettre ma proposition</button>
        <h1 id="chrono" class="d-none">00:00:00</h1>
        <div id="leNombre" class="d-none"></div>
    </div>
    <table id="tableChronosMonde" class="tableau-chronosMonde d-none align-items-center">
        <thead>
            <tr>
                <th colspan="6">Les meilleurs temps</th>
            </tr>
            <tr>
                <th>Position</th>
                <th>Pseudo</th>
                <th>Chronomètre</th>
                <th>Position</th>
                <th>Pseudo</th>
                <th>Chronomètre</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td></td>
                <td></td>
                <td>11</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>2</td>
                <td></td>
                <td></td>
                <td>12</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>3</td>
                <td></td>
                <td></td>
                <td>13</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>4</td>
                <td></td>
                <td></td>
                <td>14</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>5</td>
                <td></td>
                <td></td>
                <td>15</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>6</td>
                <td></td>
                <td></td>
                <td>16</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>7</td>
                <td></td>
                <td></td>
                <td>17</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>8</td>
                <td></td>
                <td></td>
                <td>18</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>9</td>
                <td></td>
                <td></td>
                <td>19</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>10</td>
                <td></td>
                <td></td>
                <td>20</td>
                <td></td>
                <td></td>
            </tr>
        </tbody>
    </table>
    <div>
        <table id="tableChronosPerso" class="tableau-chronosPerso d-none">
            <thead>
                <tr>
                    <th colspan="2">Mes meilleurs temps du jour</th>
                </tr>
                <tr>
                    <th>Position</th>
                    <th>Chronomètre</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td></td>
                </tr>
                <tr>
                    <td>2</td>
                    <td></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td></td>
                </tr>
                <tr>
                    <td>4</td>
                    <td></td>
                </tr>
                <tr>
                    <td>5</td>
                    <td></td>
                </tr>
                <tr>
                    <td>6</td>
                    <td></td>
                </tr>
                <tr>
                    <td>7</td>
                    <td></td>
                </tr>
                <tr>
                    <td>8</td>
                    <td></td>
                </tr>
                <tr>
                    <td>9</td>
                    <td></td>
                </tr>
                <tr>
                    <td>10</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="bottom-b">
        <button id="rejouer" class="btn btn-primary d-none btn-lg" onclick="initGame()">Rejouer</button>
        <button id="abandonner" class="btn btn-danger d-none btn-lg" onclick="quitterPartie()">Quitter la partie</button>
    </div>
</body>
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <script>

document.addEventListener('DOMContentLoaded', (event) => {
    let submitButton = document.getElementById('submit');

    if (submitButton) {
        submitButton.addEventListener('click', handleSubmit);
    } else {
        document.getElementById('form-container').style.display = 'block';}
});

function handleSubmit(event) {
    event.preventDefault(); // Empêche le comportement par défaut du formulaire (soumission et rafraîchissement de la page)

    let username = document.getElementById('floatingInput').value.trim(); // Récupère le pseudo saisi par l'utilisateur

    if (username !== '') {
        // Si le champ de pseudo n'est pas vide
        localStorage.setItem('usernameSubmitted', 'true'); // Enregistre que le pseudo a été soumis
        document.getElementById('form-container').classList.add('d-none'); // Cache le formulaire de pseudo
        document.getElementById('lancer').classList.remove('d-none'); // Affiche le bouton "Lancer le jeu"
        document.getElementById('tableChronosMonde').classList.remove('d-none'); // Affiche le tableau des meilleurs chronos
    }
    else {
        document.getElementById('form-container').style.display = 'block'
    }
}
        // Sélectionne les éléments par leurs ID
        const soumettreButton = document.getElementById('soumettre');
        const abandonnerButton = document.getElementById('abandonner');
        const propositionInput = document.getElementById('proposition');
        const chrono = document.getElementById('chrono');
        const leNombre = document.getElementById('leNombre');
        const informationArea = document.getElementById('information');
        const rejouerButton = document.getElementById('rejouer');
        soumettreButton.addEventListener('click', evaluerProposition);
        const lancerButton = document.getElementById('lancer');
        var tableChronosMonde = document.getElementById('tableChronosMonde');
        var tableChronosPerso = document.getElementById('tableChronosPerso');
        var nombreAleatoire;
        var essaisUtiliser;
        var sec, min, hrs;
        var t;
        var reponsesDonnees = [];
        var tempsJeu = "00:00:00";
        var meilleursTemps = [];
        var tbody = tableChronosPerso.querySelector('tbody');

        // Ajoute un écouteur d'événement de clic au bouton "Lancer le jeu"
        lancerButton.addEventListener('click', () => {
            // Cache le bouton "Lancer le jeu"
            lancerButton.classList.add('d-none');
            rejouerButton.classList.add('d-none');
            tableChronosMonde.classList.add('d-none');
            // Affiche les autres éléments
            soumettreButton.classList.remove('d-none');
            abandonnerButton.classList.remove('d-none');
            propositionInput.classList.remove('d-none');
            chrono.classList.remove('d-none');
            leNombre.classList.remove('d-none');
            tableChronosPerso.classList.remove('d-none');
            propositionInput.classList.remove('d-none')

            initGame();
        });

    </script>
</html>
